gsap.registerPlugin(ScrollTrigger,SplitText);const lenis=new Lenis({duration:1.5});function raf(e){lenis.raf(e),requestAnimationFrame(raf)}requestAnimationFrame(raf),lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add((e=>{lenis.raf(1e3*e)})),lenis.stop();const cursor=new MouseFollower({speed:.5,stateDetection:{"-pointer":"a, .content_media, ul.newsletter_checkbox","-pointer-2":"a.company_website","-exclusion":"h1, h2, h3, p, .portfolio_item-tabs, .testimonials_slider-right-wrapper","-difference":".footer_CTA-title, .footer_CTA-description-text, span.c--1, .content_title#text","-hidden":".buttons_btn, .swiper-button-next, .swiper-button-prev, #mc-embedded-subscribe"}}),onscroll=new OnscrollDetection;function cCursorImg(e){e.addEventListener("mouseenter",(()=>{cursor.setImg("/wp-content/uploads/2023/05/arrow-right.png")})),e.addEventListener("mouseleave",(()=>{cursor.removeImg()}))}function cCursorText(e){e.addEventListener("mouseenter",(()=>{cursor.setText("Drag me")})),e.addEventListener("mouseleave",(()=>{cursor.removeText()}))}function cHeader(){const e=document.querySelector(".c-header"),t=document.querySelector(".header_icon-mobile"),r=document.querySelector(".mobile_header"),o=r.querySelectorAll(".items_item"),a=r.querySelectorAll(".header_button"),n=document.querySelectorAll(".mobile-nav-icon rect"),i=document.querySelector(".close_icon"),s=gsap.timeline({paused:!0,ease:"power4.inOut"});s.to(r,{left:"0%",duration:.8}),s.to(r,{borderRadius:"0%",duration:.8},"<"),s.to(n,{width:0,duration:.3,stagger:.1},0),s.to(i,{rotate:90,transformOrigin:"50% 50%",scale:1,duration:.4},">"),s.to(i,{opacity:1,duration:.4,delay:.15},"<"),s.from(o,{left:"-150%",duration:.6,stagger:.1,delay:.1},0),s.from(o,{opacity:0,duration:.4,stagger:.1},"<+=0.4"),s.from(a,{opacity:0,duration:.4},">-=0.2"),t.addEventListener("click",(r=>{e.classList.contains("is-open")?(s.reverse(),t.setAttribute("aria-expanded","false"),e.classList.remove("is-open")):(s.play(),t.setAttribute("aria-expanded","true"),e.classList.add("is-open"))})),o.forEach((r=>{r.addEventListener("click",(r=>{s.reverse(),t.setAttribute("aria-expanded","false"),e.classList.remove("is-open")}))}))}function cHeroTitle(){const e=document.querySelector(".c-hero").querySelectorAll(".hero_title"),t=gsap.utils.toArray(e),r=[];for(let e=0;e<t.length;e++){let o=new SplitText(t[e],{type:"chars,words",charsClass:"label_char",wordsClass:"label_word"});r.push(o),gsap.set(r[e].chars,{opacity:0})}const o=gsap.timeline({paused:!1,repeat:-1,defaults:{ease:"power2.inOut",duration:.2,stagger:{each:.06,from:"random"}}});for(let e=0;e<t.length;e++)o.to(r[e].chars,{opacity:1}),o.to(r[e].chars,{opacity:0,delay:4})}function cPageTitle(e){const t=e,r=t.textContent.split(/\s+/),o=`${r[0]} <span class="c--1">${r.slice(1).join(" ")}</span>`;t.innerHTML=o}function cPortfolioSlider(){new Swiper(".portfolio_slider",{spaceBetween:18,speed:500,grabCursor:!0,rewind:!0,slidesPerView:"auto",breakpoints:{768:{spaceBetween:38}},pagination:{el:".swiper-pagination",type:"progressbar"},navigation:{nextEl:".swiper-button-next.-portfolio",prevEl:".swiper-button-prev.-portfolio"}})}function cScaleHover(e){gsap.utils.random(-10,10);const t=gsap.timeline({paused:!0});t.to(e,{scale:.95,rotate:"random(-10, 10)",duration:.4,ease:"power4.inOut"}),e.addEventListener("mouseenter",(e=>{t.play()})),e.addEventListener("mouseleave",(e=>{t.reverse()}))}function cTestimonialSlider(){const e=document.querySelector(".testimonials_slider"),t=document.querySelector(".swiper-button-next.-testimonials"),r=document.querySelector(".swiper-button-prev.-testimonials"),o=new Swiper(".testimonials_slider-left",{effect:"fade",fadeEffect:{crossFade:!1},autoplay:{delay:4e3,disableOnInteraction:!0},spaceBetween:300,followFinger:!1,loop:!0,speed:600,navigation:{nextEl:".testimonials_slider-left"}}),a=new Swiper(".testimonials_slider-right-wrapper",{effect:"fade",fadeEffect:{crossFade:!0},followFinger:!1,loop:!0,speed:600,autoHeight:!0,breakpoints:{768:{autoHeight:!1}},pagination:{el:".swiper-paginations",type:"progressbar"},navigation:{nextEl:".swiper-button-next.-testimonials",prevEl:".swiper-button-prev.-testimonials"}});a.controller.control=o,o.controller.control=a,e.addEventListener("mouseenter",(e=>{o.autoplay.pause()})),e.addEventListener("mouseleave",(e=>{o.autoplay.start()})),t.addEventListener("click",(e=>{o.autoplay.stop()})),r.addEventListener("click",(e=>{o.autoplay.stop()}))}function fnClassSwap(e,t="button",r="is-active"){e.addEventListener("click",(o=>{matchesSelector(event.target,t)&&(e.querySelector("."+r).classList.remove(r),event.target.classList.add(r))}))}function uGetPosition(e){var t=e.getBoundingClientRect(),r=document.documentElement;return{x:t.left+(window.pageXOffset||r.scrollLeft||0),y:t.top+(window.pageYOffset||r.scrollTop||0)}}document.documentElement.classList.add("has-loaded"),document.documentElement.classList.remove("is-loading"),"complete"===document.readyState||"loading"!==document.readyState?document.documentElement.classList.add("is-ready"):document.addEventListener("DOMContentLoaded",(function(){document.documentElement.classList.add("is-ready")})),document.addEventListener("DOMContentLoaded",(function(e){window.addEventListener("load",(function(e){cHeader(),uInviewDetection(),document.querySelectorAll(".home").forEach((()=>cHeroTitle())),document.querySelectorAll(".page-title").forEach((e=>cPageTitle(e))),document.querySelectorAll(".content_media").forEach((e=>cScaleHover(e))),document.querySelectorAll(".portfolio_slider-wrapper").forEach((e=>cCursorText(e))),document.querySelectorAll(".testimonials_slider-left").forEach((e=>cCursorImg(e))),document.querySelectorAll(".marquee_text").forEach((e=>uMarquee(e))),uHashLinks(),uPageTransition(),cPortfolioSlider(),cTestimonialSlider()}))}));const uApplyLeadingZeros=(e,t)=>String(e).padStart(t,"0"),aCurrentMousePos={x:window.innerWidth/2,y:window.innerHeight/2};function uFindAndRemoveClass(e,t="is-selected"){"object"==typeof e&&null!==e&&Array.prototype.forEach.call(e,(function(e){e.classList.remove(t)}))}function uGetNthParent(e,t){return 0===t?e:uGetNthParent(e.parentNode,t-1)}window.addEventListener("mousemove",(e=>{aCurrentMousePos.x=e.x,aCurrentMousePos.y=e.y}));let fnGetSiblings=function(e){let t=[];if(!e.parentNode)return t;let r=e.parentNode.firstChild;for(;r;)1===r.nodeType&&r!==e&&t.push(r),r=r.nextSibling;return t};function uHashLinks(){var e=gsap.utils.toArray("[data-scroll-to]");e.length>0&&e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();var r=e.getAttribute("data-scroll-to"),o=e.getAttribute("data-scroll-offset"),a=e.getAttribute("data-scroll-duration");r||(r=e.getAttribute("href")),lenis.scrollTo(r||"#top",{offset:o?Number(o):0,duration:a||2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),immediate:!1})}))}))}function uInviewDetection(){gsap.utils.toArray("[data-inview]").forEach((e=>{var t=[];if(e.hasAttribute("data-inview-scope")){if(e.dataset.inviewScope&&e.querySelectorAll(":scope "+e.dataset.inviewScope).forEach((e=>{const r=parseFloat(e.dataset.inviewOrder);t.push({el:e,order:r})})),e.querySelectorAll(":scope [data-inview-child]")&&e.querySelectorAll(":scope [data-inview-child]").forEach((e=>{const r=parseFloat(e.dataset.inviewOrder);t.push({el:e,order:r})})),e.querySelectorAll(":scope *:where([data-inview-split])")){var r=[];const o=e.querySelectorAll(":scope *:where([data-inview-split])"),a=Array.from(o).filter((e=>e.dataset.inviewSplit)),n=Array.from(o).filter((e=>!e.dataset.inviewSplit));n&&(r=Array.prototype.concat.apply(r,n)),a&&a.forEach((e=>{const t=e.querySelectorAll(":scope "+e.dataset.inviewSplit);r=Array.prototype.concat.apply(r,t)})),r.forEach((e=>{var r=function(e){let t=e.parentElement,r=0,o=5;for(;t&&r<=o;){if(t.hasAttribute("data-inview-order"))return parseFloat(t.getAttribute("data-inview-order"));t=t.parentElement,r++}if(e.hasAttribute("data-inview-order")){const t=e.getAttribute("data-inview-order");return!!Number.isInteger(+t)&&+t}return!1}(e);new SplitText(e,{type:"lines",linesClass:"lineChild"}).lines.forEach(((e,o)=>{r?(r+=.01,e.dataset.inviewOrder=r.toFixed(2),t.push({el:e,order:r})):t.push({el:e,order:!1})}))}))}}else t.push({el:e,order:e.dataset.inviewOrder});t.sort(((e,t)=>isNaN(e.order)||!1===e.order||null===e.order||void 0===e.order?1:isNaN(t.order)||!1===t.order||null===t.order||void 0===t.order?-1:e.order-t.order)),t=t.map((e=>e.el));var o={opacity:0,"will-change":"transform",y:20};e.dataset.inviewFrom&&(o=JSON.parse(e.dataset.inviewFrom)),gsap.set(t,o);var a={opacity:1,y:0};e.dataset.inviewTo&&(a=JSON.parse(e.dataset.inviewTo)),ScrollTrigger.batch(e,{start:e.dataset.inviewStart||"top 90%",onEnter:r=>{gsap.to(t,{...a,duration:e.dataset.inviewDuration||1,delay:e.dataset.inviewDelay||1,ease:e.dataset.inviewEase||"power4",stagger:{each:e.dataset.inviewStagger||.155,from:"start"}}),e.classList.add("has-viewed")},markers:e.dataset.inviewDebug||!1,toggleClass:{targets:e,className:"is-inview"}}),e.dataset.inviewDebug&&(console.log("Parent: ."+e.classList),console.log("Animating from: "+o),console.log("Animating to: "+a),console.log("Elements: "+t),console.log("----"))}))}function uMarquee(e){gsap.to(e,{xPercent:-100,repeat:-1,duration:14,ease:"linear"})}function uPageTransition(){var e=gsap.utils.toArray('[data-load-container] a:not([data-scroll-to]):not([href^="#"]):not([href^="mailto:"]):not([href^="tel:"]):not([target="_blank"]):not([data-transition="disable"]):not(.facetwp-page)');void 0!==e&&null!=e&&e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),document.documentElement.classList.add("is-leaving"),gsap.to(document.querySelector(".js-preloader_pane"),.8,{height:"100vh",ease:Power4.easeOut}),lenis.stop(),sNewLocation=e.href,setTimeout((()=>{window.location=sNewLocation}),800)}))}))}function uParallax(){const e=gsap.utils.toArray("[data-speed]");e.length>0&&e.forEach((e=>{var t=e.getAttribute("data-speed"),r=e.getAttribute("data-speed-offset"),o=e.getAttribute("data-speed-trigger"),a=e.getAttribute("data-speed-start"),n=e.getAttribute("data-speed-end"),i=e.getAttribute("data-speed-markers");r&&"auto"===r&&(r=e.offsetHeight-e.parentElement.offsetHeight),gsap.fromTo(e,{y:()=>r?-r:""},{y:function(){return r?0:(1-parseFloat(t))*(ScrollTrigger.maxScroll(window)-(this.scrollTrigger?this.scrollTrigger.start:0))},ease:"none",scrollTrigger:{trigger:o?document.querySelector(o):e,start:a||"top bottom",end:n||"bottom top",invalidateOnRefresh:!0,scrub:!0,markers:i||!1}})}))}function uTilt(e){VanillaTilt.init(e,{max:7,speed:1e3,reverse:!0,transition:!0,glare:!1,"max-glare":.5,perspective:5e3})}